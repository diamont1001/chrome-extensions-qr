!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}({5:function(e,t,n){"use strict";function r(){console.log("createContextMenus");var e=["chrome_ext_pp_qr_menu_text_link","chrome_ext_pp_qr_menu_text_img","chrome_ext_pp_qr_menu_text_select","chrome_ext_pp_qr_menu_text_page"];chrome.contextMenus.create({id:e[0],title:chrome.i18n.getMessage("menu_text_link"),contexts:["all"]}),chrome.contextMenus.create({id:e[1],title:chrome.i18n.getMessage("menu_text_img"),contexts:["all"]}),chrome.contextMenus.create({id:e[2],title:chrome.i18n.getMessage("menu_text_select"),contexts:["all"]}),chrome.contextMenus.create({id:"chrome_ext_pp_qr_menu_separator_1",type:"separator",contexts:["all"]}),chrome.contextMenus.create({id:e[3],title:chrome.i18n.getMessage("menu_text_page"),contexts:["all"]}),chrome.runtime.onMessage.addListener(function(t){if(t&&"update_menu"===t.name)for(var n=t.menus,r=0;r<n.length;r++)chrome.contextMenus.update(e[r],{visible:!0,enabled:!!n[r]})}),chrome.contextMenus.onClicked.addListener(function(t,n){var r="";switch(t.menuItemId){case e[0]:r=t.linkUrl;break;case e[1]:r=t.srcUrl;break;case e[2]:r=t.selectionText;break;case e[3]:r=n.url}r&&chrome.tabs.sendMessage(n.id,{name:"generate_qr",content:r},function(e){if(e&&"run_script"===e.name)if(e.isframe){var t=Math.round((screen.width-415)/2),r=Math.round((screen.height-437)/2);chrome.windows.create({url:"bundle/qr-frame.html?l="+encodeURIComponent(e.content),left:t,top:r,width:415,height:437,type:"popup"})}else chrome.scripting.executeScript({target:{tabId:n.id},files:["lib/jquery-1.7.1.min.js","lib/jquery.mousewheel.js","bundle/content-qr.js"]})})})}chrome.runtime.onInstalled.addListener(function(){chrome.contextMenus.removeAll(function(){r()})})}});